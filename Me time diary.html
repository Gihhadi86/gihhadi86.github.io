<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Untuk Jiwa yang Sedang Mati Rasa</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
  <!-- Tone.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
  <style>
    :root {
      --primary-bg: #f5e9d9;
      --primary-text: #2d231e;
      --secondary-text: #4a4037;
      --accent-color: #6c5a4d;
      --paper-shadow: rgba(0,0,0,0.15);
      --gold-accent: #d4af37;
    }

    body {
      font-family: 'Cormorant Garamond', serif;
      background: linear-gradient(135deg, #f5e9d9 0%, #e8dcc6 100%);
      color: var(--primary-text);
      touch-action: manipulation;
      user-select: none;
      overflow-x: hidden;
    }

    /* Enhanced page flip animations */
    .book-container {
      perspective: 1200px;
      transform-style: preserve-3d;
    }

    .page-wrapper {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      transform-origin: left center;
    }

    .page-front, .page-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 8px;
      box-shadow: 0 8px 32px var(--paper-shadow);
      display: flex;
      flex-direction: column;
    }

    .page-front {
      transform: rotateY(0deg);
      background: linear-gradient(145deg, #ffffff 0%, #fefefe 100%);
    }

    .page-back {
      transform: rotateY(180deg);
      background: linear-gradient(145deg, #fafafa 0%, #f5f5f5 100%);
    }

    .flipping-next {
      transform: rotateY(-180deg);
    }

    .flipping-prev {
      transform: rotateY(180deg);
    }

    /* Paper texture and lines */
    .page-content-area {
      background-image: 
        repeating-linear-gradient(
          transparent 0px,
          transparent 31px,
          rgba(0,0,0,0.08) 32px,
          rgba(0,0,0,0.08) 33px
        ),
        radial-gradient(circle at 20% 80%, rgba(120,119,198,0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255,200,124,0.3) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(120,119,198,0.15) 0%, transparent 50%);
      background-size: 100% 33px, 100% 100%, 100% 100%, 100% 100%;
      line-height: 1.8; /* Disesuaikan agar teks pas di antara baris */
      position: relative;
    }

    .page-content-area::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="1" stitchTiles="stitch"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0"/></filter></defs><rect width="100%" height="100%" filter="url(%23noise)" opacity="0.4"/></svg>');
      pointer-events: none;
      border-radius: 8px;
    }

    /* Enhanced cover design */
    .cover-bg {
      background: linear-gradient(135deg, 
        #2d1b14 0%, 
        #4a3728 25%, 
        #6c5a4d 50%, 
        #4a3728 75%, 
        #2d1b14 100%
      );
      position: relative;
      overflow: hidden;
    }

    .cover-bg::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="30" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/><circle cx="25" cy="75" r="20" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="0.3"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grain)"/></svg>');
      opacity: 0.3;
    }

    .cover-ornament {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 80px;
      height: 80px;
      border: 2px solid var(--gold-accent);
      border-radius: 50%;
      opacity: 0.6;
    }

    .cover-ornament::before,
    .cover-ornament::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 1px solid var(--gold-accent);
      border-radius: 50%;
    }

    .cover-ornament::before {
      width: 60px;
      height: 60px;
    }

    .cover-ornament::after {
      width: 40px;
      height: 40px;
    }

    /* Floating particles animation */
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; }
      50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
    }

    .floating-particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: var(--gold-accent);
      border-radius: 50%;
      animation: float 5s ease-in-out infinite;
    }

    .floating-particle:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
    .floating-particle:nth-child(2) { top: 60%; left: 90%; animation-delay: 2s; }
    .floating-particle:nth-child(3) { top: 80%; left: 20%; animation-delay: 4s; }

    /* Reading indicator */
    .reading-progress {
      position: fixed;
      top: 0;
      left: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--gold-accent), #f4d03f);
      transition: width 0.3s ease;
      z-index: 1000;
      box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
    }

    /* Touch feedback */
    .touch-feedback {
      position: absolute;
      pointer-events: none;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(212, 175, 55, 0.3) 0%, transparent 70%);
      transform: scale(0);
      transition: transform 0.3s ease-out;
    }

    .touch-feedback.active {
      transform: scale(1);
    }

    /* Enhanced buttons */
    .elegant-btn {
      background: linear-gradient(145deg, var(--accent-color), #5a4a3d);
      border: 1px solid var(--gold-accent);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .elegant-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.2);
    }

    .elegant-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s ease;
    }

    .elegant-btn:hover::before {
      left: 100%;
    }

    /* Swipe indicator */
    .swipe-indicator {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 8px;
      color: rgba(0,0,0,0.4);
      font-size: 12px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 0.8; }
    }

    .swipe-arrow {
      width: 20px;
      height: 1px;
      background: rgba(0,0,0,0.4);
      position: relative;
    }

    .swipe-arrow::after {
      content: '';
      position: absolute;
      right: -4px;
      top: -3px;
      width: 8px;
      height: 8px;
      border-right: 1px solid rgba(0,0,0,0.4);
      border-bottom: 1px solid rgba(0,0,0,0.4);
      transform: rotate(-45deg);
    }

    /* Mobile optimizations */
    @media (max-width: 768px) {
      .page-content-area {
        font-size: 20px !important; /* Ukuran font lebih kecil untuk mobile */
        line-height: 1.90 !important; /* Jarak antarbaris lebih pendek */
        padding: 1rem 1.7rem !important; /* Padding horizontal lebih besar untuk mobile */
      }
      
      .swipe-indicator {
        bottom: 10px;
      }
    }

    .button-container {
        position: absolute;
        bottom: 70px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 1rem;
        z-index: 20;
    }

    .nav-btn {
      background-color: rgba(255,255,255,0.5);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(0,0,0,0.1);
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      transition: all 0.2s ease-in-out;
      width: 44px;
      height: 44px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .nav-btn:hover {
      background-color: rgba(255,255,255,0.8);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }

    .nav-btn.hidden {
      display: none;
    }

    /* Add space between paragraphs */
    .page-content-area p {
      margin-bottom: 1.7rem;
    }
  </style>
</head>
<body>
  <!-- Reading progress indicator -->
  <div class="reading-progress" id="reading-progress"></div>

  <!-- Touch feedback element -->
  <div class="touch-feedback" id="touch-feedback"></div>

  <!-- Main app container -->
  <div class="min-h-screen flex flex-col items-center justify-center p-0 md:p-4">
    <!-- Main container -->
    <div id="main-container" class="relative w-full max-w-xl mx-auto flex flex-col h-screen md:h-[85vh] md:max-h-[900px] shadow-2xl md:rounded-xl overflow-hidden">
      
      <!-- Cover Page -->
      <div id="cover-page" class="cover-bg flex flex-col items-center justify-center p-8 text-center h-full relative">
        <!-- Floating particles -->
        <div class="floating-particle"></div>
        <div class="floating-particle"></div>
        <div class="floating-particle"></div>
        
        <!-- Cover ornament -->
        <div class="cover-ornament"></div>
        
        <div class="relative z-10">
          <h1 class="text-5xl sm:text-6xl md:text-7xl font-['Dancing_Script'] mb-6 text-white drop-shadow-lg">
            Untuk Jiwa yang Sedang Mati Rasa
          </h1>
          <p class="text-xl sm:text-2xl font-['Playfair_Display'] italic mb-2 text-amber-100">
            oleh
          </p>
          <p class="text-2xl sm:text-3xl font-['Dancing_Script'] mb-8 text-amber-200">
            Gigih Hadi Nugroho Said
          </p>
          <button id="start-reading-btn" class="elegant-btn text-white font-['Cormorant_Garamond'] px-8 py-4 rounded-full text-lg font-semibold">
            Mulai Membaca
          </button>
        </div>
      </div>

      <!-- Reading Page -->
      <div id="reading-page" class="flex flex-col h-full hidden">
        <!-- Header -->
        <div class="w-full px-4 py-3 flex items-center justify-between bg-white/80 backdrop-blur-sm border-b border-gray-200">
          <button id="back-to-cover-btn" class="text-[var(--primary-text)] p-2 rounded-full hover:bg-gray-100 transition-colors duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
            </svg>
          </button>
          <span class="text-sm font-semibold uppercase tracking-wider text-[var(--accent-color)]">Untuk Jiwa yang Sedang Mati Rasa</span>
          <div class="w-10 h-10"></div>
        </div>

        <!-- Book container with page flip -->
        <div class="book-container flex-grow relative">
          <div id="page-wrapper" class="page-wrapper h-full">
            <!-- Current page (front) -->
            <div class="page-front overflow-y-auto">
              <div class="page-content-area h-full p-6 sm:p-8 md:p-10 flex flex-col">
                <div id="current-page-text" class="font-['Cormorant_Garamond'] text-base md:text-lg leading-relaxed text-[var(--secondary-text)] text-left flex-grow">
                    <!-- Konten akan disisipkan di sini -->
                </div>
              </div>
            </div>

            <!-- Next page (back) -->
            <div class="page-back overflow-y-auto">
              <div class="page-content-area h-full p-6 sm:p-8 md:p-10 flex flex-col">
                <div id="next-page-text" class="font-['Cormorant_Garamond'] text-base md:text-lg leading-relaxed text-[var(--secondary-text)] text-left flex-grow">
                    <!-- Konten halaman berikutnya akan disisipkan di sini -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tombol navigasi panah -->
        <div class="button-container">
          <button id="prev-page-btn" class="nav-btn p-3 rounded-full hidden">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-[var(--accent-color)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
            </svg>
          </button>
          <button id="next-page-btn" class="nav-btn p-3 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-[var(--accent-color)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
          </button>
        </div>

        <!-- Footer -->
        <div class="w-full px-4 py-3 flex items-center justify-center bg-white/80 backdrop-blur-sm border-t border-gray-200">
          <span id="page-indicator" class="text-sm font-semibold text-[var(--accent-color)]">Halaman 1 dari 10</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Variables
    let currentPage = 0;
    let totalPages;
    let isAnimating = false;
    let touchStartX = 0;
    let touchStartY = 0;
    let player;

    // DOM elements
    const coverPage = document.getElementById('cover-page');
    const readingPage = document.getElementById('reading-page');
    const pageWrapper = document.getElementById('page-wrapper');
    const currentPageText = document.getElementById('current-page-text');
    const nextPageText = document.getElementById('next-page-text');
    const pageIndicator = document.getElementById('page-indicator');
    const readingProgress = document.getElementById('reading-progress');
    const touchFeedback = document.getElementById('touch-feedback');
    const startBtn = document.getElementById('start-reading-btn');
    const backBtn = document.getElementById('back-to-cover-btn');
    const prevBtn = document.getElementById('prev-page-btn');
    const nextBtn = document.getElementById('next-page-btn');

    // Konten dipindahkan langsung ke sini untuk konsistensi
    const diaryPages = [
        'Langit senja memudar menjadi warna ungu dan oranye. Di sudut kamar, sebuah lilin berkedip, melemparkan bayangan yang menari-nari di dinding. Malam ini, saya kembali ke buku usang ini, tempat di mana setiap kata adalah bisikan rahasia dari masa lalu. Rasanya seperti membuka peti harta karun yang berisi kenangan yang paling berharga.',
        'Hari ini, saya menemukan kembali alasan saya menulis: untuk mengabadikan momen-momen kecil yang sering terlewat. Setiap kata adalah jembatan menuju kenangan. Di luar jendela, hujan mulai turun, dan setiap tetesnya seolah menyanyikan melodi yang menenangkan.',
        'Tadi sore, saya melihat seekor kucing oranye tidur di atas tumpukan buku di kafe yang ramai. Pemandangan itu begitu sederhana, namun entah mengapa, terasa seperti puisi. Keindahan seringkali bersembunyi di tempat yang paling tidak terduga, menunggu untuk ditemukan oleh mata yang jeli.',
        'Saya bertanya-tanya, apakah ada orang lain di luar sana yang merasa hal yang sama? Bahwa dunia terasa lebih hidup dan lebih nyata saat dituliskan. Mungkin, semua orang adalah penulis dari cerita mereka sendiri, hanya saja beberapa dari kita memilih untuk menyimpannya di dalam sebuah buku.',
        'Ada saat-saat ketika saya merasa bahwa buku ini adalah satu-satunya teman saya. Ia tidak pernah menghakimi, hanya mendengarkan setiap curahan hati, setiap tawa, dan setiap air mata. Ia adalah cermin yang memantulkan jiwa saya yang sebenarnya.',
        'Malam ini, saya mencoba mengingat kembali mimpi teraneh yang pernah saya alami. Saya berjalan di sebuah taman yang dipenuhi bunga-bunga kaca, dan di tengah-tengahnya, ada sebuah pohon yang tumbuh terbalik. Mungkin itu adalah metafora untuk kehidupan saya.',
        'Saya teringat percakapan lama dengan kakek. Ia pernah berkata, "Hidup itu seperti buku, beberapa bab sedih, beberapa bahagia. Tapi, yang terpenting adalah jangan pernah berhenti membaca." Kalimat itu selalu menjadi pengingat bagi saya.',
        'Di bawah sinar rembulan, saya menutup buku ini. Setiap halaman adalah jejak langkah, setiap kata adalah nafas yang dihembuskan. Saya menyadari, perjalanan ini bukan tentang menemukan jawaban, melainkan tentang menikmati setiap pertanyaan.',
        'Satu hal yang pasti, buku harian ini akan selalu menjadi saksi bisu dari setiap bab yang telah saya jalani. Ini bukan hanya cerita saya, tapi juga bagian dari cerita setiap orang yang pernah singgah di hidup saya.',
        'Maka, saya tersenyum. Bukan karena semua masalah telah selesai, tetapi karena saya tahu, ada banyak halaman kosong yang menunggu untuk diisi dengan petualangan yang belum pernah terbayangkan sebelumnya. Selamat malam, dunia. Sampai jumpa di halaman berikutnya.',
    ];
    
    // Initialize audio
    const initializeAudio = async () => {
      try {
        const pageFlipSound = "data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEARQAAACEAABAAAAFAAQB0AAEAAgABAAgABAAIAAgACAAIAAgAAkAAEAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAA=";
        player = new Tone.Player(pageFlipSound).toDestination();
        player.volume.value = -15;
      } catch (error) {
        console.error("Audio initialization failed:", error);
      }
    };

    const playPageFlip = async () => {
      if (!player) await initializeAudio();
      try {
        await Tone.start();
        if (player && player.loaded) {
          player.start();
        }
      } catch (error) {
        console.error("Audio playback failed:", error);
      }
    };

    // Update page content and progress
    const updatePage = () => {
      totalPages = diaryPages.length;
      
      // Update page text
      if (currentPage === 0) {
        // Halaman pertama memiliki judul
        currentPageText.innerHTML = `<h2 class="text-3xl font-['Playfair_Display'] font-semibold mb-6 text-[var(--primary-text)]">Untuk Jiwa yang Sedang Mati Rasa</h2><p>${diaryPages[currentPage]}</p>`;
      } else {
        currentPageText.innerHTML = `<p>${diaryPages[currentPage]}</p>`;
      }

      // Update next page content
      if (currentPage + 1 < totalPages) {
        nextPageText.innerHTML = `<p>${diaryPages[currentPage + 1]}</p>`;
      } else {
        nextPageText.innerHTML = '<p class="text-center text-gray-400 italic">Akhir dari cerita...</p>';
      }
      
      // Update indicators
      pageIndicator.textContent = `Halaman ${currentPage + 1} dari ${totalPages}`;
      const progress = ((currentPage + 1) / totalPages) * 100;
      readingProgress.style.width = `${progress}%`;
      
      // Manage navigation buttons visibility
      if (currentPage === 0) {
        prevBtn.classList.add('hidden');
      } else {
        prevBtn.classList.remove('hidden');
      }

      if (currentPage === totalPages - 1) {
        nextBtn.classList.add('hidden');
      } else {
        nextBtn.classList.remove('hidden');
      }
    };

    // Enhanced page flip animation
    const flipPage = (direction) => {
      if (isAnimating) return;
      
      const nextPageIndex = currentPage + direction;
      if (nextPageIndex < 0 || nextPageIndex >= totalPages) return;
      
      isAnimating = true;
      
      // Add flip animation class
      if (direction > 0) {
        pageWrapper.classList.add('flipping-next');
      } else {
        pageWrapper.classList.add('flipping-prev');
      }
      
      // Play sound effect
      playPageFlip();
      
      // Wait for animation to complete
      setTimeout(() => {
        currentPage = nextPageIndex;
        updatePage();
        
        // Reset animation
        pageWrapper.classList.remove('flipping-next', 'flipping-prev');
        isAnimating = false;
      }, 800);
    };

    // Touch feedback effect
    const showTouchFeedback = (x, y) => {
      touchFeedback.style.left = `${x - 25}px`;
      touchFeedback.style.top = `${y - 25}px`;
      touchFeedback.style.width = '50px';
      touchFeedback.style.height = '50px';
      touchFeedback.classList.add('active');
      
      setTimeout(() => {
        touchFeedback.classList.remove('active');
      }, 300);
    };

    // Enhanced touch handling
    let isTouching = false;
    
    const handleTouchStart = (e) => {
      if (isAnimating) return;
      
      isTouching = true;
      const touch = e.touches[0];
      touchStartX = touch.clientX;
      touchStartY = touch.clientY;
      
      // Show touch feedback
      showTouchFeedback(touch.clientX, touch.clientY);
    };

    const handleTouchEnd = (e) => {
      if (!isTouching || isAnimating) return;
      
      isTouching = false;
      const touch = e.changedTouches[0];
      const deltaX = touch.clientX - touchStartX;
      const deltaY = touch.clientY - touchStartY;
      
      // Check if it's a horizontal swipe (not vertical scroll)
      if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {
        e.preventDefault();
        
        if (deltaX < -50) {
          // Swipe left - next page
          flipPage(1);
        } else if (deltaX > 50) {
          // Swipe right - previous page
          flipPage(-1);
        }
      }
    };

    // Mouse/click support for desktop
    const handleClick = (e) => {
      if (isAnimating) return;
      
      const rect = pageWrapper.getBoundingClientRect();
      const clickX = e.clientX - rect.left;
      const pageWidth = rect.width;
      
      // Show touch feedback
      showTouchFeedback(e.clientX, e.clientY);
      
      // Click on right half = next page, left half = previous page
      if (clickX > pageWidth / 2) {
        flipPage(1);
      } else {
        flipPage(-1);
      }
    };

    // Start reading
    const startReading = () => {
      coverPage.classList.add('hidden');
      readingPage.classList.remove('hidden');
      updatePage();
    };

    // Back to cover
    const backToCover = () => {
      coverPage.classList.remove('hidden');
      readingPage.classList.add('hidden');
      currentPage = 0;
      readingProgress.style.width = '0%';
      // Reset scroll position
      pageWrapper.scrollTop = 0;
    };

    // Event listeners
    startBtn.addEventListener('click', startReading);
    backBtn.addEventListener('click', backToCover);
    prevBtn.addEventListener('click', () => flipPage(-1));
    nextBtn.addEventListener('click', () => flipPage(1));

    // Touch events
    pageWrapper.addEventListener('touchstart', handleTouchStart, { passive: false });
    pageWrapper.addEventListener('touchend', handleTouchEnd, { passive: false });
    
    // Mouse events for desktop (di-nonaktifkan karena tombol sudah ada)
    // pageWrapper.addEventListener('click', handleClick);
    
    // Prevent context menu on long press
    pageWrapper.addEventListener('contextmenu', (e) => e.preventDefault());

    // Initialize
    window.addEventListener('load', () => {
      initializeAudio();
      updatePage();
    });

    // Keyboard support
    document.addEventListener('keydown', (e) => {
      if (coverPage.classList.contains('hidden')) {
        switch(e.key) {
          case 'ArrowRight':
          case ' ':
            e.preventDefault();
            flipPage(1);
            break;
          case 'ArrowLeft':
            e.preventDefault();
            flipPage(-1);
            break;
          case 'Escape':
            backToCover();
            break;
        }
      }
    });
  </script>
</body>
</html>
